# ChurchBellsSystem  
A lightweight, applianceâ€‘grade Raspberry Pi bell scheduler with a simple web interface, persistent volume control, and a modular architecture designed for future expansion.

This project provides a reliable, easyâ€‘toâ€‘use system for scheduling and playing bell chimes on a Raspberry Pi. It includes a default homepage on port 80 and a full bell scheduler UI on port 8080.

---

## Features

### ğŸ”” Bell Scheduler (Port 8080)
- Login system (default: **admin / changeme**)
- Add, edit, enable/disable, and delete alarms
- Alarms sorted by day of week and time
- Plays WAV files using `aplay`
- Persistent system volume slider pinned to the bottom-left of the UI
- Builtâ€‘in default chime sound generated during installation
- Automatic scheduler loop that fires alarms at the correct time

### ğŸ  Home Page (Port 80)
- Simple â€œWork in Progressâ€ landing page
- Links to the Bell Scheduler
- Runs independently from the scheduler service

### ğŸ› ï¸ System Architecture
- Runs under the **pi** user for predictable audio/device permissions
- Two systemd services:
  - `churchbells-home.service` (port 80)
  - `churchbells.service` (port 8080)
- Designed for future modular services (announcements, livestream, admin tools, etc.)

---

## Requirements

- Raspberry Pi (any model with audio output)
- Raspberry Pi OS or Debian-based Linux
- Python 3.9+
- Audio output configured (HDMI or 3.5mm)
- Internet connection for first install

---

## Installation

Clone the repository:

```bash
    git clone https://github.com/kd5jp/ChurchBellsSystem.git
    cd ChurchBellsSystem
```
Before running the installer, ensure the pi user exists and has the correct groups:

```bash
sudo usermod -aG audio,video,gpio,input,spi,i2c,dialout pi
```
Then run:

```bash
./install.sh
```
The installer will:
- Install dependencies
- Create a Python virtual environment
- Generate a default chime sound
- Initialize the database
- Install and start systemd service

Accessing the System
Home Page (Port 80)

```bash
http://<pi-ip>/
```
Bell Scheduler (Port 8080)
```bash
http://<pi-ip>:8080
```
Default Login
```bash
Username: admin
Password: changeme
```
You can change the password from within the web interface.

Updating
To update the application code or dependencies:
```bash
./update.sh
```
This will refresh the virtual environment and ensure all dependencies are current.

Uninstalling
To remove the services, virtual environment, and database:
```bash
./uninstall.sh
```
This will:
- Stop and disable systemd services
- Remove service files
- Delete the virtual environment
- Delete the SQLite database
Your source code and sound files remain intact.
```bash
Directory Structure
ChurchBellsSystem/
â”œâ”€ app.py                 # Bell scheduler web app (port 8080)
â”œâ”€ home.py                # Default homepage (port 80)
â”œâ”€ bells.db               # Auto-created SQLite database
â”œâ”€ sounds/
â”‚  â””â”€ chime.wav           # Default chime generated by install.sh
â”œâ”€ templates/
â”‚  â”œâ”€ base.html
â”‚  â”œâ”€ login.html
â”‚  â””â”€ alarms.html
â”œâ”€ static/
â”‚  â””â”€ main.css
â”œâ”€ install.sh
â”œâ”€ update.sh
â””â”€ uninstall.sh
```
uture Expansion
This system is intentionally modular. Planned or possible future services include:
- Textâ€‘toâ€‘speech announcements
- Livestream monitoring
- Admin tools
- Multiâ€‘zone bell control
- Remote management
Each service can run on its own port with its own systemd unit.

Author
Created by Jesse (KD5JP)
Designed for reliability, simplicity, and longâ€‘term maintainability.

